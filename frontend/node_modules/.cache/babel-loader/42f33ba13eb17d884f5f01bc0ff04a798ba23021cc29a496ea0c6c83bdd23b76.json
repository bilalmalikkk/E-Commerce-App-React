{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\ecommerce-store\\\\frontend\\\\src\\\\components\\\\CheckoutButton.js\";\nimport React from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport axios from \"axios\";\n\n// Make sure this is your actual Stripe public key\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe(\"your_stripe_public_key\");\nconst CheckoutButton = ({\n  cartItems\n}) => {\n  const handleCheckout = async () => {\n    console.log(\"üöÄ Starting checkout...\");\n    console.log(\"üì¶ Cart Items:\", cartItems); // ‚úÖ Log cart items\n\n    try {\n      if (cartItems.length === 0) {\n        console.error(\"‚ùå Cart is empty, cannot checkout!\");\n        return;\n      }\n      const stripe = await stripePromise;\n      console.log(\"‚úÖ Stripe initialized:\", stripe);\n      const {\n        data\n      } = await axios.post(\"http://localhost:5000/api/checkout/create-checkout-session\", {\n        cartItems\n      });\n      console.log(\"‚úÖ Session Data received:\", data);\n      const result = await stripe.redirectToCheckout({\n        sessionId: data.id\n      });\n      if (result.error) {\n        console.error(\"üö® Stripe Error:\", result.error.message);\n      }\n    } catch (error) {\n      var _error$response;\n      console.error(\"‚ùå Checkout failed:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: handleCheckout,\n    className: \"btn btn-success fw-bold px-4 py-2 mt-3\",\n    disabled: cartItems.length === 0,\n    children: \"\\uD83D\\uDED2 Checkout\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 7\n  }, this);\n};\n_c = CheckoutButton;\nexport default CheckoutButton;\nvar _c;\n$RefreshReg$(_c, \"CheckoutButton\");","map":{"version":3,"names":["React","loadStripe","axios","jsxDEV","_jsxDEV","stripePromise","CheckoutButton","cartItems","handleCheckout","console","log","length","error","stripe","data","post","result","redirectToCheckout","sessionId","id","message","_error$response","response","onClick","className","disabled","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/React/ecommerce-store/frontend/src/components/CheckoutButton.js"],"sourcesContent":["import React from \"react\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport axios from \"axios\";\r\n\r\n// Make sure this is your actual Stripe public key\r\nconst stripePromise = loadStripe(\"your_stripe_public_key\");\r\n\r\nconst CheckoutButton = ({ cartItems }) => {\r\n    const handleCheckout = async () => {\r\n      console.log(\"üöÄ Starting checkout...\");\r\n      console.log(\"üì¶ Cart Items:\", cartItems); // ‚úÖ Log cart items\r\n  \r\n      try {\r\n        if (cartItems.length === 0) {\r\n          console.error(\"‚ùå Cart is empty, cannot checkout!\");\r\n          return;\r\n        }\r\n  \r\n        const stripe = await stripePromise;\r\n        console.log(\"‚úÖ Stripe initialized:\", stripe);\r\n  \r\n        const { data } = await axios.post(\r\n          \"http://localhost:5000/api/checkout/create-checkout-session\",\r\n          { cartItems }\r\n        );\r\n  \r\n        console.log(\"‚úÖ Session Data received:\", data);\r\n  \r\n        const result = await stripe.redirectToCheckout({\r\n          sessionId: data.id,\r\n        });\r\n  \r\n        if (result.error) {\r\n          console.error(\"üö® Stripe Error:\", result.error.message);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"‚ùå Checkout failed:\", error.response?.data || error.message);\r\n      }\r\n    };\r\n  \r\n    return (\r\n      <button\r\n        onClick={handleCheckout}\r\n        className=\"btn btn-success fw-bold px-4 py-2 mt-3\"\r\n        disabled={cartItems.length === 0}\r\n      >\r\n        üõí Checkout\r\n      </button>\r\n    );\r\n  };\r\n  \r\n  export default CheckoutButton;\r\n  "],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,mBAAmB;AAC9C,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,aAAa,GAAGJ,UAAU,CAAC,wBAAwB,CAAC;AAE1D,MAAMK,cAAc,GAAGA,CAAC;EAAEC;AAAU,CAAC,KAAK;EACtC,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjCC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;IACtCD,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEH,SAAS,CAAC,CAAC,CAAC;;IAE1C,IAAI;MACF,IAAIA,SAAS,CAACI,MAAM,KAAK,CAAC,EAAE;QAC1BF,OAAO,CAACG,KAAK,CAAC,mCAAmC,CAAC;QAClD;MACF;MAEA,MAAMC,MAAM,GAAG,MAAMR,aAAa;MAClCI,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEG,MAAM,CAAC;MAE5C,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAC/B,4DAA4D,EAC5D;QAAER;MAAU,CACd,CAAC;MAEDE,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEI,IAAI,CAAC;MAE7C,MAAME,MAAM,GAAG,MAAMH,MAAM,CAACI,kBAAkB,CAAC;QAC7CC,SAAS,EAAEJ,IAAI,CAACK;MAClB,CAAC,CAAC;MAEF,IAAIH,MAAM,CAACJ,KAAK,EAAE;QAChBH,OAAO,CAACG,KAAK,CAAC,kBAAkB,EAAEI,MAAM,CAACJ,KAAK,CAACQ,OAAO,CAAC;MACzD;IACF,CAAC,CAAC,OAAOR,KAAK,EAAE;MAAA,IAAAS,eAAA;MACdZ,OAAO,CAACG,KAAK,CAAC,oBAAoB,EAAE,EAAAS,eAAA,GAAAT,KAAK,CAACU,QAAQ,cAAAD,eAAA,uBAAdA,eAAA,CAAgBP,IAAI,KAAIF,KAAK,CAACQ,OAAO,CAAC;IAC5E;EACF,CAAC;EAED,oBACEhB,OAAA;IACEmB,OAAO,EAAEf,cAAe;IACxBgB,SAAS,EAAC,wCAAwC;IAClDC,QAAQ,EAAElB,SAAS,CAACI,MAAM,KAAK,CAAE;IAAAe,QAAA,EAClC;EAED;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAQ,CAAC;AAEb,CAAC;AAACC,EAAA,GA1CEzB,cAAc;AA4ClB,eAAeA,cAAc;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}